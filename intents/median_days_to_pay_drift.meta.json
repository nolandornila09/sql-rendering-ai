{
  "template_id": "median_days_to_pay_drift",
  "description": "Detect customers whose median days-to-pay increased by at least X days over the last N weeks.",
  "required_filters": ["tenant_id", "as_of_date"],
  "defaults": {
    "weeks": 8,
    "min_delta_days": 5,
    "sort_direction" : "DESC",
    "limit" : 100
  },
   "param_formats": {
    "tenant_id": "integer",
    "as_of_date": "date (YYYY-MM-DD)",
    "weeks": "integer (number of weeks to look back)",
    "min_delta_days": "integer (minimum increase in median days-to-pay)"
  },
  "projected_columns": [
    "customer_id",
    "delta_days"
  ],
  "partitions": ["yyyy_mm"],
  "parquet_views": {
    "v_invoices_closed": "v_invoices_closed.parquet"
  }
  }
